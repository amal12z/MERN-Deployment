{"ast":null,"code":"import _slicedToArray from\"C:/Users/amalf/Desktop/POOTCAMP/TestSomeFunctionalaty/Pets/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Table from'../components/Table';import axios from'axios';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var HomePage=function HomePage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){axios.get('http://localhost:8000/api/pet').then(function(res){return setPets(res.data.pets);}).catch(function(err){return console.log(\"Error : \",err);});},[]);// const addToDom = authorId => {\n//     setAuthors([...authors , authorId])\n// }\nvar deleteHandler=function deleteHandler(petId){axios.delete('http://localhost:8000/api/pet/'+petId).then(function(res){setPets(pets.filter(function(pet){return pet._id!==petId;}));console.log(petId);}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mb-5 mt-5 pt-5 col-7 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-3 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/new\",className:\"btn btn-outline-secondary rounded-pill ms-2 \",children:\"Add a pet to the shelter\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5  text-center mb-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-primary mb-5\",children:\"\\\"These Pets are looking for a good home\\\"\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-3 text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.map(function(pet,idx){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:pet.name}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:pet.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary rounded-pill\",to:'/edit/'+pet._id,children:\" Edit \"}),\"  \",/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-secondary rounded-pill\",to:'/pets/'+pet._id,children:\" Detaile \"}),\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger rounded-pill\",onClick:function onClick(e){deleteHandler(pet._id);},children:\" Delete \"}),\" \"]})]},idx);})})]})]})]})})});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Table","axios","Link","HomePage","props","pets","setPets","get","then","res","data","catch","err","console","log","deleteHandler","petId","delete","filter","pet","_id","error","map","idx","name","type","e"],"sources":["C:/Users/amalf/Desktop/POOTCAMP/TestSomeFunctionalaty/Pets/client/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Table from '../components/Table'\r\nimport axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nconst HomePage = (props) => {\r\n\r\n\r\n    const [pets ,setPets] = useState([])\r\n\r\n    useEffect(()=> {\r\n        axios.get('http://localhost:8000/api/pet')\r\n        .then(res=> setPets(res.data.pets))\r\n        .catch(err=> console.log(\"Error : \" , err))\r\n    }, [])\r\n  \r\n  \r\n    \r\n\r\n    \r\n    // const addToDom = authorId => {\r\n    //     setAuthors([...authors , authorId])\r\n    // }\r\n\r\n\r\n    const deleteHandler = petId => {\r\n        axios.delete('http://localhost:8000/api/pet/' + petId)\r\n        .then(res => {\r\n            setPets(pets.filter(pet => pet._id !==  petId))\r\n            console.log(petId)\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n\r\n\r\nreturn (\r\n    <>\r\n<div className='container mb-5 mt-5 pt-5 col-7 text-center'>\r\n\r\n<div className='form-border'>\r\n\r\n<div className='d-flex justify-content-between mt-3 mb-5'>\r\n<div className='text-secondary'><h1>Pet Shelter</h1></div>\r\n<div><Link to='/new' className=\"btn btn-outline-secondary rounded-pill ms-2 \">Add a pet to the shelter</Link></div>\r\n</div>\r\n\r\n<div className='container mt-5  text-center mb-5'>\r\n<p className='text-primary mb-5'>\"These Pets are looking for a good home\"</p>\r\n<table className=\"table mt-3 text-center\">\r\n\r\n    <thead>\r\n        <tr>\r\n        <th scope=\"col\">Name</th>\r\n        <th scope=\"col\">Type</th>\r\n        <th scope=\"col\">Actions</th>\r\n        </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n        {pets.map((pet, idx) => \r\n        <tr key={idx}>\r\n        <th scope=\"row\">{pet.name}</th>\r\n        <th scope=\"row\">{pet.type}</th>\r\n        <td><Link className='btn btn-primary rounded-pill' to={'/edit/' + pet._id}> Edit </Link>  <Link className='btn btn-outline-secondary rounded-pill' to={'/pets/' + pet._id}> Detaile </Link> <button className='btn btn-outline-danger rounded-pill' onClick={(e) => {deleteHandler(pet._id)}} > Delete </button> </td>\r\n        </tr>\r\n    )}\r\n    </tbody>\r\n\r\n</table>\r\n</div>\r\n</div>\r\n\r\n\r\n</div>\r\n    \r\n    </>\r\n)\r\n}\r\n\r\nexport default HomePage"],"mappings":"uJAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IACA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAGxB,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eAEAP,SAAS,CAAC,UAAK,CACXE,KAAK,CAACM,GAAN,CAAU,+BAAV,EACCC,IADD,CACM,SAAAC,GAAG,QAAGH,QAAO,CAACG,GAAG,CAACC,IAAJ,CAASL,IAAV,CAAV,EADT,EAECM,KAFD,CAEO,SAAAC,GAAG,QAAGC,QAAO,CAACC,GAAR,CAAY,UAAZ,CAAyBF,GAAzB,CAAH,EAFV,EAGH,CAJQ,CAIN,EAJM,CAAT,CAUA;AACA;AACA;AAGA,GAAMG,cAAa,CAAG,QAAhBA,cAAgB,CAAAC,KAAK,CAAI,CAC3Bf,KAAK,CAACgB,MAAN,CAAa,iCAAmCD,KAAhD,EACCR,IADD,CACM,SAAAC,GAAG,CAAI,CACTH,OAAO,CAACD,IAAI,CAACa,MAAL,CAAY,SAAAC,GAAG,QAAIA,IAAG,CAACC,GAAJ,GAAaJ,KAAjB,EAAf,CAAD,CAAP,CACAH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACH,CAJD,EAKCL,KALD,CAKO,SAAAC,GAAG,QAAIC,QAAO,CAACQ,KAAR,CAAcT,GAAd,CAAJ,EALV,EAMH,CAPD,CAUJ,mBACI,sCACJ,YAAK,SAAS,CAAC,4CAAf,uBAEA,aAAK,SAAS,CAAC,aAAf,wBAEA,aAAK,SAAS,CAAC,0CAAf,wBACA,YAAK,SAAS,CAAC,gBAAf,uBAAgC,mCAAhC,EADA,cAEA,kCAAK,KAAC,IAAD,EAAM,EAAE,CAAC,MAAT,CAAgB,SAAS,CAAC,8CAA1B,sCAAL,EAFA,GAFA,cAOA,aAAK,SAAS,CAAC,kCAAf,wBACA,UAAG,SAAS,CAAC,mBAAb,wDADA,cAEA,eAAO,SAAS,CAAC,wBAAjB,wBAEI,oCACI,mCACA,WAAI,KAAK,CAAC,KAAV,kBADA,cAEA,WAAI,KAAK,CAAC,KAAV,kBAFA,cAGA,WAAI,KAAK,CAAC,KAAV,qBAHA,GADJ,EAFJ,cAUI,uBACKP,IAAI,CAACiB,GAAL,CAAS,SAACH,GAAD,CAAMI,GAAN,qBACV,mCACA,WAAI,KAAK,CAAC,KAAV,UAAiBJ,GAAG,CAACK,IAArB,EADA,cAEA,WAAI,KAAK,CAAC,KAAV,UAAiBL,GAAG,CAACM,IAArB,EAFA,cAGA,mCAAI,KAAC,IAAD,EAAM,SAAS,CAAC,8BAAhB,CAA+C,EAAE,CAAE,SAAWN,GAAG,CAACC,GAAlE,oBAAJ,mBAA0F,KAAC,IAAD,EAAM,SAAS,CAAC,wCAAhB,CAAyD,EAAE,CAAE,SAAWD,GAAG,CAACC,GAA5E,uBAA1F,kBAA4L,eAAQ,SAAS,CAAC,qCAAlB,CAAwD,OAAO,CAAE,iBAACM,CAAD,CAAO,CAACX,aAAa,CAACI,GAAG,CAACC,GAAL,CAAb,CAAuB,CAAhG,sBAA5L,OAHA,GAASG,GAAT,CADU,EAAT,CADL,EAVJ,GAFA,GAPA,GAFA,EADI,EADJ,CA0CC,CAxED,CA0EA,cAAepB,SAAf"},"metadata":{},"sourceType":"module"}