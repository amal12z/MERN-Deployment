{"ast":null,"code":"import _objectSpread from\"C:/Users/amalf/Desktop/POOTCAMP/TestSomeFunctionalaty/Pets/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/amalf/Desktop/POOTCAMP/TestSomeFunctionalaty/Pets/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useHistory,useParams}from'react-router';import axios from'axios';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailsPage=function DetailsPage(){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/pet/'+id).then(function(res){return setPet(res.data.pet);}).catch(function(err){return console.error(err);});},[]);var deletepet=function deletepet(petID){axios.delete('http://localhost:8000/api/pet/'+petID).then(function(res){console.log(petID);history.push(\"/\");}).catch(function(err){return console.error(err);});};var incLikes=function incLikes(pet){// Black Belt 4 : Include a button to like a pet, disable it when clicked until the component reloads\nsetLikes(likes+1);var LKS=pet.likes;axios.put('http://localhost:8000/api/pet/'+id,_objectSpread(_objectSpread({},pet),{},{LKS:1})).then(function(res){console.log(res);}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mb-5 mt-5 pt-5 col-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-border p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-3 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Pet Shelter\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-secondary rounded-pill ms-2 \",children:\"Back to HOME\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold\",children:[\"Details About : \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary text-opacity-75\",children:pet.name}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){deletepet(pet._id);},className:\"btn btn-danger rounded-pill\",children:[\"Adopt \",pet.name,\" \"]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Pet Type : \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary text-opacity-75\",children:pet.type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Description :\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary text-opacity-75\",children:pet.desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold\",children:\"Skills : \"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary text-opacity-75\",children:pet.skill1}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary text-opacity-75\",children:pet.skill2}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary text-opacity-75\",children:pet.skill3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Like(s) : \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:likes}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return incLikes(pet);},className:\"btn btn-success rounded-pill mt-5\",children:[\"Like \",pet.name,\" \"]})]})]})})});};export default DetailsPage;","map":{"version":3,"names":["React","useState","useEffect","useHistory","useParams","axios","Link","DetailsPage","id","history","pet","setPet","likes","setLikes","get","then","res","data","catch","err","console","error","deletepet","petID","delete","log","push","incLikes","LKS","put","name","e","_id","type","desc","skill1","skill2","skill3"],"sources":["C:/Users/amalf/Desktop/POOTCAMP/TestSomeFunctionalaty/Pets/client/src/pages/DetailsPage.jsx"],"sourcesContent":["import React, { useState , useEffect } from 'react'\r\nimport { useHistory , useParams} from 'react-router'\r\nimport axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst DetailsPage = () => {\r\n\r\n    \r\n\r\n\r\n        const {id} = useParams();\r\n        const history = useHistory();\r\n        const [pet, setPet] = useState({})\r\n        const [likes , setLikes] = useState(0)\r\n        \r\n\r\n        useEffect(() => {\r\n            axios.get('http://localhost:8000/api/pet/'+id)\r\n            .then(res => setPet(res.data.pet))\r\n            .catch(err => console.error(err))\r\n        }, []);\r\n\r\n\r\n        const deletepet = (petID) => {\r\n            axios.delete('http://localhost:8000/api/pet/' +petID)\r\n                .then(res => {\r\n                    console.log(petID)\r\n                    history.push(\"/\")\r\n                })\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        const incLikes = (pet) => { // Black Belt 4 : Include a button to like a pet, disable it when clicked until the component reloads\r\n            setLikes(likes+1)\r\n            const LKS = pet.likes\r\n            axios.put('http://localhost:8000/api/pet/'+id , {...pet, LKS : 1})\r\n            .then(res=>{\r\n                console.log(res)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <div className='container mb-5 mt-5 pt-5 col-7'>\r\n    <div className='form-border p-5'>\r\n\r\n    <div className='d-flex justify-content-between mt-3 mb-5'>\r\n        <div className='text-primary'><h5>Pet Shelter</h5></div>\r\n        <div><Link to=\"/\" className=\"btn btn-outline-secondary rounded-pill ms-2 \">Back to HOME</Link></div>\r\n    </div>\r\n\r\n\r\n        <div className='d-flex justify-content-between'>\r\n            <div><h6 className='fw-bold'>Details About : <span className='text-primary text-opacity-75'>{pet.name}</span> </h6></div>\r\n            <div>\r\n                <button onClick={(e) => {deletepet(pet._id)}} className='btn btn-danger rounded-pill'>Adopt {pet.name} </button>\r\n            </div>\r\n        </div>\r\n        <hr/>\r\n\r\n        <p className=''><span className='fw-bold'>Pet Type : </span><span className='text-primary text-opacity-75'>{pet.type}</span></p>\r\n\r\n        <p><span className='fw-bold'>Description :</span> <span className='text-primary text-opacity-75'>{pet.desc}</span></p>\r\n\r\n        {/* <ul> */}\r\n            {/* {pet.skill1 !== \" \" ? <p>{pet.skill1}</p> : \" \" } */}\r\n           <div className='mt-2'>\r\n            <p className='fw-bold'>Skills : </p>\r\n           <p className='text-primary text-opacity-75'>{pet.skill1}</p>\r\n            <p className='text-primary text-opacity-75'>{pet.skill2}</p>\r\n            <p className='text-primary text-opacity-75'>{pet.skill3}</p>\r\n           </div>\r\n        {/* </ul> */}\r\n\r\n\r\n        <div className='d-flex justify-content-between'>\r\n       \r\n        {/* <p>Like(s) : {pet.likes} </p> */}\r\n        <p>Like(s) : <span className='text-primary'>{likes}</span> </p>\r\n        <button onClick={() => incLikes(pet)}  className=\"btn btn-success rounded-pill mt-5\">Like {pet.name} </button>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n    </div>\r\n\r\n        \r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DetailsPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}